<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alpha Studio | Admin & Contatos</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@400;700&family=Inter:wght@300;600;900&family=JetBrains+Mono&display=swap" rel="stylesheet">
    <style>
        :root {
            --black: #000000;
            --deep-gray: #0a0a0a;
            --lime: #CCFF00;
            --white: #ffffff;
            --glass: rgba(255, 255, 255, 0.05);
            --insta: #E1306C;
            --whats: #25D366;
            --mail: #0078FF;
            --border: rgba(255, 255, 255, 0.1);
        }

        /* --- BACKGROUND ANIMADO --- */
        #bg-canvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; background: var(--black); }

        #custom-cursor {
            width: 20px; height: 20px; background: var(--lime); border-radius: 50%; position: fixed;
            pointer-events: none; z-index: 9999; mix-blend-mode: difference;
            box-shadow: 0 0 15px var(--lime), 0 0 30px var(--lime);
            transition: transform 0.1s ease; transform: translate(-50%, -50%);
        }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Inter', sans-serif; cursor: none; }
        body { background-color: var(--black); color: var(--white); scroll-behavior: smooth; overflow-x: hidden; min-height: 100vh; }
        h1, h2, .logo { font-family: 'Syncopate', sans-serif; font-weight: 700; text-transform: uppercase; }

        /* NAVBAR - AJUSTE RESPONSIVO */
        nav { position: fixed; top: 0; width: 100%; padding: 20px 5%; display: flex; justify-content: space-between; align-items: center; z-index: 1100; background: linear-gradient(to bottom, rgba(0,0,0,0.95), transparent); }
        .logo { display: flex; align-items: center; gap: 12px; font-size: clamp(0.7rem, 1.2vw, 1.1rem); letter-spacing: 3px; text-decoration: none; color: var(--white); cursor: pointer; }
        .nav-gif { width: 45px; height: 45px; object-fit: contain; flex-shrink: 0; image-rendering: optimizeSpeed; backface-visibility: hidden; transform: translateZ(0); }
        .logo span { color: var(--lime); }
        .nav-links { display: flex; gap: 5px; background: var(--glass); padding: 8px 15px; border-radius: 50px; backdrop-filter: blur(15px); border: 1px solid var(--border); }
        .nav-links a { color: var(--white); text-decoration: none; font-size: clamp(0.55rem, 0.9vw, 0.8rem); font-weight: 700; padding: 10px 12px; border-radius: 40px; transition: 0.4s; cursor: pointer; white-space: nowrap; }
        .nav-links a.active-link { color: var(--black) !important; background-color: var(--lime); box-shadow: 0 0 20px rgba(204, 255, 0, 0.6); }

        .page-content { position: absolute; top: 0; left: 0; width: 100%; padding: 120px 8% 60px 8%; display: none; flex-direction: column; align-items: center; opacity: 0; visibility: hidden; pointer-events: none; transform: scale(1.05); filter: blur(15px); transition: all 0.9s cubic-bezier(0.19, 1, 0.22, 1); }
        .page-content.active { display: flex; opacity: 1; visibility: visible; pointer-events: all; transform: scale(1); filter: blur(0px); z-index: 10; position: relative; }

        /* --- HOME --- */
        #home { text-align: center; }
        .hero-logo { width: clamp(100px, 10vw, 180px); margin-bottom: 15px; }
        .hero-logo img { width: 100%; filter: drop-shadow(0 0 20px rgba(204, 255, 0, 0.4)); image-rendering: optimizeQuality; }
        .alpha-hero { font-size: clamp(1.8rem, 7vw, 5.5rem); line-height: 0.9; margin-bottom: 30px; color: transparent; -webkit-text-stroke: 1.5px var(--white); }
        .alpha-hero span { color: var(--lime); -webkit-text-stroke: 0px; }

        /* GRIDS ADAPTÁVEIS */
        .home-featured { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; width: 100%; max-width: 1200px; justify-content: center; margin-top: 20px; padding-bottom: 50px; }
        .featured-card { background: rgba(0, 0, 0, 0.5); backdrop-filter: blur(10px); border: 1px solid #222; border-radius: 15px; width: 100%; overflow: hidden; transition: 0.5s; text-align: left; cursor: pointer; }
        .featured-card:hover { border-color: var(--lime); transform: translateY(-10px); box-shadow: 0 10px 40px rgba(204, 255, 0, 0.1); }
        .featured-img { width: 100%; height: 180px; object-fit: cover; border-bottom: 1px solid #222; filter: grayscale(1); transition: 0.5s; }
        .featured-card:hover .featured-img { filter: grayscale(0); }
        .featured-info { padding: 20px; }
        .featured-info h3 { font-family: 'Syncopate'; font-size: 0.75rem; color: var(--lime); margin-bottom: 8px; letter-spacing: 1px; }

        /* --- FEEDBACK SECTION --- */
        .feedback-section { width: 100%; max-width: 1200px; margin-top: 40px; padding-bottom: 100px; }
        .feedback-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-top: 30px; }
        .feedback-card { background: var(--glass); border: 1px solid var(--border); padding: 25px; border-radius: 20px; text-align: left; transition: 0.4s; }
        .feedback-card:hover { border-color: var(--lime); transform: scale(1.02); }
        .feedback-author { font-family: 'Syncopate'; font-size: 0.65rem; color: var(--lime); letter-spacing: 1px; }

        /* --- GALERIA ALTA DEFINIÇÃO --- */
        .gallery { display: grid; grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 25px; width: 100%; margin-top: 40px; }
        .gallery-card { position: relative; height: 350px; border-radius: 12px; overflow: hidden; background: #050505; border: 1px solid var(--border); transition: 0.4s; cursor: pointer; }
        .gallery-card img { width: 100%; height: 100%; object-fit: cover; object-position: center; image-rendering: crisp-edges; filter: brightness(0.9); transition: 0.6s ease; }
        .gallery-card:hover img { filter: brightness(1.1); transform: scale(1.03); }
        .card-overlay { position: absolute; bottom: 0; left: 0; width: 100%; padding: 30px; background: linear-gradient(transparent, rgba(0,0,0,0.95)); }
        .card-overlay h3 { font-size: 0.8rem; color: var(--lime); font-family: 'Syncopate'; letter-spacing: 2px; }

        /* --- LIGHTBOX --- */
        #lightbox { position: fixed; inset: 0; background: rgba(0,0,0,0.95); z-index: 2000; display: none; align-items: center; justify-content: center; backdrop-filter: blur(10px); opacity: 0; transition: opacity 0.4s ease; }
        #lightbox.active { display: flex; opacity: 1; }
        .lightbox-content { position: relative; background: var(--glass); border: 1px solid rgba(255, 255, 255, 0.278); padding: 10px; border-radius: 20px; max-width: 95%; max-height: 90vh; display: flex; flex-direction: column; align-items: center; }
        .lightbox-img { max-width: 100%; max-height: 70vh; border-radius: 12px; object-fit: contain; }
        .close-lightbox { position: absolute; top: -50px; right: 0; color: var(--white); font-size: 2rem; cursor: pointer; }

        /* --- CONTATO RESPONSIVO --- */
        .contact-wrapper { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 40px; max-width: 1200px; margin: 0 auto; width: 100%; align-items: start; }
        .contact-info h2 { font-size: clamp(1.8rem, 5vw, 4rem); line-height: 0.85; margin-bottom: 20px; }
        .contact-info h2 span { color: var(--lime); text-shadow: 0 0 20px var(--lime); }
        .social-vertical { display: flex; flex-direction: column; gap: 15px; margin-top: 30px; }
        .social-item { display: flex; align-items: center; gap: 20px; text-decoration: none; padding: 25px; background: rgba(255,255,255,0.02); border: 1px solid rgba(255,255,255,0.1); border-radius: 20px; transition: 0.5s cubic-bezier(0.19, 1, 0.22, 1); position: relative; overflow: hidden; }
        .social-item:hover { transform: translateX(15px); border-color: var(--lime); background: rgba(204, 255, 0, 0.03); }
        .social-item i { font-size: 1.8rem; transition: 0.4s; }
        .social-text { display: flex; flex-direction: column; }
        .social-text span:first-child { font-size: 0.6rem; font-weight: 800; color: var(--white); opacity: 0.7; letter-spacing: 2px; }
        .social-text small { font-size: clamp(0.8rem, 1.5vw, 1rem); color: var(--white); font-weight: 600; opacity: 1; }
        .social-item:hover i { transform: scale(1.2); color: var(--lime); }
        .contact-form { background: rgba(10, 10, 10, 0.6); border: 1px solid rgba(255,255,255,0.1); padding: clamp(20px, 5vw, 50px); border-radius: 30px; backdrop-filter: blur(20px); box-shadow: 0 30px 60px rgba(0,0,0,0.5); }
        .form-group { margin-bottom: 25px; position: relative; }
        .form-group label { font-family: 'JetBrains Mono'; font-size: 0.65rem; color: var(--white); margin-bottom: 8px; display: block; letter-spacing: 1px; text-transform: uppercase; font-weight: 600; }
        .contact-form input, .contact-form textarea { width: 100%; padding: 18px; background: rgba(255,255,255,0.03); border: 1px solid rgba(255,255,255,0.1); color: var(--white); border-radius: 12px; transition: 0.4s; font-size: 0.95rem; }
        .contact-form input:focus, .contact-form textarea:focus { outline: none; border-color: var(--lime); background: rgba(204, 255, 0, 0.05); box-shadow: 0 0 20px rgba(204, 255, 0, 0.15); }
        .lgpd-container { display: flex; align-items: flex-start; gap: 12px; margin-bottom: 25px; }
        .lgpd-container input { width: auto; margin-top: 5px; cursor: pointer; accent-color: var(--lime); }
        .lgpd-container label { font-family: 'Inter'; text-transform: none; font-size: 0.75rem; color: #ffffff; line-height: 1.4; cursor: pointer; letter-spacing: 0; }
        .lgpd-container label span { color: var(--lime); text-decoration: underline; }
        .btn-send { width: 100%; padding: 22px; background: var(--lime); color: var(--black); font-weight: 900; border: none; border-radius: 15px; cursor: pointer; transition: 0.4s; font-family: 'Syncopate'; font-size: 0.75rem; letter-spacing: 2px; animation: glow-pulse 2s infinite; }
        .btn-send:disabled { background: #333; color: #666; animation: none; cursor: not-allowed; opacity: 0.5; }
        .btn-send:hover:not(:disabled) { transform: translateY(-5px); background: var(--white); box-shadow: 0 10px 30px rgba(204, 255, 0, 0.3); animation: none; }
        @keyframes glow-pulse { 0% { box-shadow: 0 0 0 0 rgba(204, 255, 0, 0.4); } 70% { box-shadow: 0 0 0 15px rgba(204, 255, 0, 0); } 100% { box-shadow: 0 0 0 0 rgba(204, 255, 0, 0); } }

        /* --- MEDIA QUERIES (TELA PEQUENA) --- */
        @media (max-width: 768px) {
            * { cursor: auto !important; }
            #custom-cursor { display: none; }
            nav { padding: 15px 4%; }
            .logo { gap: 8px; }
            .nav-links { padding: 5px 10px; }
            .nav-links a { padding: 8px 8px; }
            .page-content { padding-top: 100px; padding-bottom: 40px; }
            .contact-form { width: 100%; }
        }

        #admin-panel { position: fixed; inset: 0; background: rgba(0,0,0,0.98); z-index: 3000; display: none; align-items: center; justify-content: center; }
        .admin-container { background: #111; padding: 40px; border: 1px solid var(--lime); border-radius: 20px; width: 90%; max-width: 800px; display: grid; grid-template-columns: 1fr 1fr; gap: 30px; }
    </style>
</head>
<body onload="initApp()">

    <canvas id="bg-canvas"></canvas>
    <div id="custom-cursor"></div>

    <div id="lightbox" onclick="closeLightbox()">
        <div class="lightbox-content" onclick="event.stopPropagation()">
            <span class="close-lightbox" onclick="closeLightbox()">&times;</span>
            <img id="lb-img" class="lightbox-img" src="">
            <div class="lightbox-caption" style="margin-top: 15px;">
                <h3 id="lb-title" style="color: var(--lime); font-family: 'Syncopate'; font-size: 0.8rem;">TÍTULO DA OBRA</h3>
            </div>
        </div>
    </div>

    <nav>
        <div class="logo" ondblclick="window.location.href='admin.html'" style="cursor: pointer;">
            <img src="img.gif" alt="Logo" class="nav-gif">
            ALPHA<span>STUDIO</span>
        </div>
        <div class="nav-links">
            <a onclick="switchPage('home')" id="nav-home" class="active-link">HOME</a>
            <a onclick="switchPage('portfolio')" id="nav-portfolio">OBRAS</a>
            <a onclick="switchPage('contact-overlay')" id="nav-contact-overlay">CONTATO</a>
        </div>
    </nav>

    <section id="home" class="page-content active">
        <div class="hero-logo"><img src="img.gif"></div>
        <p style="letter-spacing: 5px; color: #888; text-transform: uppercase; font-size: 0.6rem; margin-bottom: 10px;">Creative Motion Partner</p>
        <h1 class="alpha-hero">ALPHA<br><span>STUDIO</span></h1>
        <div class="home-featured" id="home-featured-container"></div>
        <div class="feedback-section">
            <h2 style="font-size: 1rem; letter-spacing: 3px;">O QUE DIZEM<span>_NOSSOS ALPHA</span></h2>
            <div class="feedback-grid" id="feedback-container"></div>
        </div>
    </section>

    <section id="portfolio" class="page-content">
        <h2>OBRAS SELECIONADAS<span>_</span></h2>
        <div class="gallery" id="main-gallery"></div>
    </section>

    <section id="contact-overlay" class="page-content">
        <div class="contact-wrapper">
            <div class="contact-info">
                <h2>CRIAR O<br><span>FUTURO_</span></h2>
                <p style="color: #ffffff; font-size: 0.9rem; line-height: 1.6;">Conecte-se com a Alpha Studio para transformar sua visão em movimento e impacto digital.</p>
                <div class="social-vertical">
                    <a href="#" id="link-insta" target="_blank" class="social-item">
                        <div class="social-icon"><i class="fab fa-instagram" style="color:var(--insta)"></i></div>
                        <div class="social-text"><span>INSTAGRAM</span><small id="text-insta">@alphastudio</small></div>
                    </a>
                    <a href="#" id="link-whats" target="_blank" class="social-item">
                        <div class="social-icon"><i class="fab fa-whatsapp" style="color:var(--whats)"></i></div>
                        <div class="social-text"><span>WHATSAPP</span><small id="text-whats">+55 (00) 00000-0000</small></div>
                    </a>
                    <a href="#" id="link-mail" class="social-item">
                        <div class="social-icon"><i class="far fa-envelope" style="color:var(--mail)"></i></div>
                        <div class="social-text"><span>EMAIL</span><small id="text-mail">contato@alphastudio.com</small></div>
                    </a>
                </div>
            </div>
            <div class="contact-form">
                <div class="form-group">
                    <label>NOME_IDENTIFICAÇÃO</label>
                    <input type="text" id="c-nome" placeholder="Seu nome completo">
                </div>
                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    <div class="form-group">
                        <label>TELEFONE_CONTATO</label>
                        <input type="text" id="c-tel" placeholder="(00) 00000-0000">
                    </div>
                    <div class="form-group">
                        <label>COORDENADAS_CIDADE</label>
                        <input type="text" id="c-cidade" placeholder="Sua localização">
                    </div>
                </div>
                <div class="form-group">
                    <label>PROTOCOLO_MENSAGEM</label>
                    <textarea id="c-desc" rows="4" placeholder="O que te trouxe à Alpha Studio?"></textarea>
                </div>

                <div class="lgpd-container">
                    <input type="checkbox" id="lgpd-check" onchange="document.getElementById('btn-submit').disabled = !this.checked">
                    <label for="lgpd-check">Compreendo e aceito que meus dados sejam processados conforme a <span>LGPD</span>.</label>
                </div>

                <button class="btn-send" id="btn-submit" onclick="submitContact()" disabled>INICIAR_PROCESSO</button>
            </div>
        </div>
    </section>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-analytics.js";
        import { getFirestore, collection, addDoc, getDocs, doc, setDoc, getDoc, updateDoc, increment } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        const firebaseConfig = {
            apiKey: "AIzaSyAO6azVpX988Vwu___-pp9c0oprqPThMlQ",
            authDomain: "matematica-em-foco.firebaseapp.com",
            projectId: "matematica-em-foco",
            storageBucket: "matematica-em-foco.firebasestorage.app",
            messagingSenderId: "1031540454030",
            appId: "1:1031540454030:web:f6a91af6171c1d6c694fdf",
            measurementId: "G-SS4FPBYQ5X"
        };
        
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        const db = getFirestore(app);

        // --- GLOBAL SCOPE HELPERS (Attached to window for HTML events) ---
        window.db = db; // Expose for debugging if needed

        async function initApp() {
            // Count Visit - Using Firestore Distributed Counter (or simple field increment for low scale)
            try {
                const statsRef = doc(db, "system", "stats");
                // Check if exists, if not create
                const statsSnap = await getDoc(statsRef);
                if (!statsSnap.exists()) {
                    await setDoc(statsRef, { visits: 1 });
                } else {
                    await updateDoc(statsRef, { visits: increment(1) });
                }
            } catch (e) {
                console.log("Analytics/Visit log error (Non-critical):", e);
            }

            loadHomeFeatured();
            loadSocialConfigs();
            loadGallery();
            loadFeedbacks();
            
            // Animation & UI Inits
            initBG(); animateBG();
            updateCursorEvents();
        }
        window.initApp = initApp; // Make global

        async function loadSocialConfigs() {
            try {
                const docSnap = await getDoc(doc(db, "system", "config"));
                if (docSnap.exists()) {
                    const config = docSnap.data();
                    if(config.insta) { document.getElementById('link-insta').href = config.insta.includes('http') ? config.insta : `https://instagram.com/${config.insta.replace('@','')}`; document.getElementById('text-insta').innerText = config.insta; }
                    if(config.phone) { const cleanPhone = config.phone.replace(/\D/g, ''); document.getElementById('link-whats').href = `https://wa.me/${cleanPhone}`; document.getElementById('text-whats').innerText = config.phone; }
                    if(config.email) { document.getElementById('link-mail').href = `mailto:${config.email}`; document.getElementById('text-mail').innerText = config.email; }
                }
            } catch(e) { console.error("Social load error:", e); }
        }

        async function loadHomeFeatured() {
            const container = document.getElementById('home-featured-container');
            container.innerHTML = `<p style="color:#444; font-size:12px;">Conectando ao neural core...</p>`;
            
            try {
                let html = "";
                for(let i=1; i<=3; i++) {
                    const docSnap = await getDoc(doc(db, "featured", `slot${i}`));
                    if(docSnap.exists()) {
                        const f = docSnap.data();
                        if(f.title && f.img) {
                             html += `
                                <div class="featured-card" onclick="openLightbox('${f.img}', '${f.title}')">
                                    <img src="${f.img}" class="featured-img" alt="featured">
                                    <div class="featured-info"><h3>${f.title}</h3><p style="color:white; opacity:0.8; font-size:0.8rem;">${f.desc || ''}</p></div>
                                </div>`;
                        }
                    }
                }
                container.innerHTML = html || "<p>Nenhum destaque ativo.</p>";
                updateCursorEvents();
            } catch (e) {
                container.innerHTML = "<p>Erro na conexão.</p>";
            }
        }

        async function loadGallery() {
            const gallery = document.getElementById('main-gallery');
            try {
                const querySnapshot = await getDocs(collection(db, "gallery"));
                // Clear existing static items if any? Code used prepend so let's just use what we get.
                // Or better, clear it first to avoid dups if re-called.
                gallery.innerHTML = ""; 
                
                querySnapshot.forEach((doc) => {
                    const w = doc.data();
                    const div = document.createElement('div');
                    div.className = 'gallery-card';
                    div.onclick = () => openLightbox(w.url, w.title);
                    div.innerHTML = `<img src="${w.url}" loading="lazy"><div class="card-overlay"><h3>${w.title}</h3></div>`;
                    gallery.prepend(div); // Newest first usually if we iterate standard
                });
                updateCursorEvents();
            } catch(e) {
                console.error("Gallery load error", e);
            }
        }

        async function loadFeedbacks() {
            const container = document.getElementById('feedback-container');
            const querySnapshot = await getDocs(collection(db, "leads"));
            const aprovados = [];
            querySnapshot.forEach(doc => {
                 const d = doc.data();
                 // Relaxed check to handle string "true" or boolean true
                 if(d.exibir == true || d.exibir == "true") aprovados.push(d);
            });
            
            if(aprovados.length === 0) { container.innerHTML = `<p style="color:#555; font-size:12px;">Aguardando protocolos...</p>`; return; }
            container.innerHTML = aprovados.map(f => `<div class="feedback-card"><p style="color:white; margin-bottom:15px; font-style:italic;">"${f.desc}"</p><div class="feedback-author">${f.nome} / ${f.cidade}</div></div>`).join('');
        }

        window.submitContact = async () => {
            const btn = document.getElementById('btn-submit');
            const data = { 
                nome: document.getElementById('c-nome').value, 
                tel: document.getElementById('c-tel').value, 
                cidade: document.getElementById('c-cidade').value, 
                desc: document.getElementById('c-desc').value || '', 
                data: new Date().toLocaleString(), // String date for readable admin
                timestamp: Date.now(),
                exibir: false 
            };
            
            if(!data.nome || !data.tel || !data.cidade) return alert("Preencha os campos obrigatórios!");
            
            btn.innerText = "ENVIANDO..."; btn.disabled = true;

            try {
                await addDoc(collection(db, "leads"), data);
                alert("Protocolo enviado com sucesso! Aguarde nosso contato.");
                location.reload();
            } catch(e) {
                console.error(e);
                alert("Erro ao enviar. Tente novamente.");
                btn.innerText = "INICIAR_PROCESSO"; btn.disabled = false;
            }
        }

        // --- UI/UX LOGIC (Keep existing visual helper functions) ---
        
        window.switchPage = (pageId) => {
            document.querySelectorAll('.page-content').forEach(p => p.classList.remove('active'));
            document.querySelectorAll('.nav-links a').forEach(l => l.classList.remove('active-link'));
            document.getElementById(pageId).classList.add('active');
            const link = document.getElementById('nav-' + (pageId === 'contact-overlay' ? 'contact-overlay' : pageId));
            if(link) link.classList.add('active-link');
            window.scrollTo({ top: 0, behavior: 'smooth' });
        };

        window.openLightbox = (url, title) => {
            document.getElementById('lb-img').src = url;
            document.getElementById('lb-title').innerText = title;
            const lb = document.getElementById('lightbox');
            lb.style.display = 'flex'; setTimeout(() => lb.classList.add('active'), 10);
        };

        window.closeLightbox = () => { const lb = document.getElementById('lightbox'); lb.classList.remove('active'); setTimeout(() => lb.style.display = 'none', 400); };
        
        // Canvas BG Logic
        const canvas = document.getElementById('bg-canvas');
        const ctx = canvas.getContext('2d');
        let particles = [];
        
        window.initBG = () => {
            canvas.width = window.innerWidth; canvas.height = window.innerHeight;
            particles = [];
            let particleCount = window.innerWidth < 768 ? 25 : 45;
            for (let i = 0; i < particleCount; i++) {
                particles.push({ x: Math.random() * canvas.width, y: Math.random() * canvas.height, speed: 1.5 + Math.random() * 3, len: 10 + Math.random() * 60, opacity: 0.1 + Math.random() * 0.4 });
            }
        };
        
        window.animateBG = () => {
            ctx.fillStyle = 'rgba(0, 0, 0, 0.15)'; ctx.fillRect(0, 0, canvas.width, canvas.height);
            ctx.strokeStyle = '#CCFF00';
            particles.forEach(p => {
                ctx.globalAlpha = p.opacity; ctx.beginPath(); ctx.moveTo(p.x, p.y); ctx.lineTo(p.x, p.y + p.len); ctx.stroke();
                p.y += p.speed; if (p.y > canvas.height) p.y = -p.len;
            });
            requestAnimationFrame(animateBG);
        };
        window.addEventListener('resize', initBG);

        // Cursor Logic
        const cursor = document.getElementById('custom-cursor');
        document.addEventListener('mousemove', (e) => { cursor.style.left = e.clientX + 'px'; cursor.style.top = e.clientY + 'px'; });
        
        window.updateCursorEvents = () => {
             document.querySelectorAll('a, .gallery-card, button, .social-item, .close-lightbox, .featured-card, #lgpd-check').forEach(el => {
                el.addEventListener('mouseenter', () => cursor.style.transform = 'translate(-50%, -50%) scale(3)');
                el.addEventListener('mouseleave', () => cursor.style.transform = 'translate(-50%, -50%) scale(1)');
            });
        };
    </script>


</body>
</html>